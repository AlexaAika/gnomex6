<div class="filter">
    <div class="flex-container-row align-center children-spaced filter-row-top">
        <div class="labelAndIcon" *ngIf="showLabelAndIcon">
            <img src="{{iconSource}}" alt="{{iconAlt}}" class="icon">
            <label>{{label}}</label>
        </div>
        <div class="inlineDiv" *ngIf="showWorkflowStateRadioGroup">
            <input [(ngModel)]="workflowStateString" id="newStateRadio" value="NEW" type="radio" name="workflowStateRadio">
            <label for="newStateRadio" class="following-label leading-label">New</label>
            <input [(ngModel)]="workflowStateString" id="submittedStateRadio" value="SUBMITTED" type="radio" name="workflowStateRadio">
            <label for="submittedStateRadio" class="following-label leading-label">Submitted</label>
            <input [(ngModel)]="workflowStateString" id="processingStateRadio" value="PROCESSING" type="radio" name="workflowStateRadio">
            <label for="processingStateRadio" class="following-label leading-label">Processing</label>
            <input [(ngModel)]="workflowStateString" id="completeStateRadio" value="COMPLETE" type="radio" name="workflowStateRadio">
            <label for="completeStateRadio" class="following-label leading-label">Complete</label>
            <input [(ngModel)]="workflowStateString" id="failedStateRadio" value="FAILED" type="radio" name="workflowStateRadio">
            <label for="failedStateRadio" class="following-label">Failed</label>
        </div>
        <div class="divider" *ngIf="showWorkflowStateRadioGroup && showRedosCheckbox"></div>
        <div class="inlineDiv" *ngIf="showRedosCheckbox">
            <input [(ngModel)]="redosFlag" id="redosCheckbox" type="checkbox">
            <label for="redosCheckbox" class="following-label">Redos</label>
        </div>
        <div class="divider" *ngIf="showRedosCheckbox && showDateRangePicker"></div>
        <div class="inlineDiv" *ngIf="showExperimentsRadioGroup">
            <input [(ngModel)]="experimentsRadioString" id="myExperimentsRadio" value="myExperiments" type="radio" name="radioFilter" (change)="onExperimentsRadioGroupChange()">
            <label for="myExperimentsRadio" class="following-label leading-label">My experiments</label>
            <input [(ngModel)]="experimentsRadioString" id="myLabRadio" value="myLab" type="radio" name="radioFilter" (change)="onExperimentsRadioGroupChange()">
            <label for="myLabRadio" class="following-label leading-label">My lab</label>
            <input [(ngModel)]="experimentsRadioString" id="myCollaborationsRadio" value="myCollaborations" type="radio" name="radioFilter" (change)="onExperimentsRadioGroupChange()">
            <label for="myCollaborationsRadio" class="following-label leading-label">My collaborations</label>
            <input [(ngModel)]="experimentsRadioString" id="publicDataRadio" value="publicData" type="radio" name="radioFilter" (change)="onExperimentsRadioGroupChange()">
            <label for="publicDataRadio" class="following-label leading-label">Public data</label>
            <input [(ngModel)]="experimentsRadioString" id="allRadio" value="all" type="radio" name="radioFilter" (change)="onExperimentsRadioGroupChange()">
            <label for="allRadio" class="following-label">All</label>
        </div>
        <div class="inlineDiv" *ngIf="showAllCheckbox">
            <input [(ngModel)]="allFlag" id="allCheckbox" type="checkbox">
            <label for="allCheckbox" class="following-label">All</label>
        </div>
        <div class="inlineDiv children-spaced" *ngIf="showLabComboBox && (mode === 'billingBrowse' ? !(idCoreFacilityString === '') : true)">
            <label class="leading-label">Group</label>
            <jqxComboBox class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Select a lab...'"
                         [source]="labList" [displayMember]="this.prefService.labDisplayField" [valueMember]="'idLab'"
                         (onSelect)="onLabSelect($event)" (onUnselect)="onLabUnselect()">
            </jqxComboBox>
            <div class="inlineDiv" *ngIf="showOwnerComboBox && !(idLabString === '')">
                <label class="leading-label">Owner/Submitter</label>
                <jqxComboBox class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Select an Owner...'"
                             [source]="ownerList" [displayMember]="this.prefService.userDisplayField" [valueMember]="'idAppUser'"
                             (onSelect)="onAppUserSelect($event)" (onUnselect)="onAppUserUnselect()">
                </jqxComboBox>
            </div>
            <div class="inlineDiv" *ngIf="showBillingAccountComboBox && !(idLabString === '')">
                <label class="leading-label">Account</label>
                <jqxComboBox class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Select an Account...'"
                             [source]="billingAccountList" [displayMember]="'accountNameDisplay'" [valueMember]="'idBillingAccount'"
                             (onSelect)="onBillingAccountSelect($event)" (onUnselect)="onBillingAccountUnselect()">
                </jqxComboBox>
            </div>
        </div>
        <date-range-filter *ngIf="this.showDateRangePicker" (onChange)="this.onDateRangePickerChange($event)"></date-range-filter>
        <div class="divider" *ngIf="showDateRangePicker && showOrderNumberInput"></div>
        <div class="inlineDiv" *ngIf="showOrderNumberInput">
            <label for="orderNumberInput" class="leading-label">Order #</label>
            <input class="filterTextInput" [(ngModel)]="orderNumberString" id="orderNumberInput">
        </div>
        <div class="inlineDiv children-spaced" *ngIf="showOrganismComboBox">
            <jqxComboBox class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Organism...'"
                         [source]="organismList" [displayMember]="'display'" [valueMember]="'idOrganism'"
                         (onSelect)="onOrganismSelect($event)" (onUnselect)="onOrganismUnselect()">
            </jqxComboBox>
            <div class="inlineDiv" *ngIf="showGenomeBuildComboBox && !(idOrganismString === '')">
                <jqxComboBox class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Genome Build...'"
                             [source]="genomeBuildList" [displayMember]="'display'" [valueMember]="'idGenomeBuild'"
                             (onSelect)="onGenomeBuildSelect($event)" (onUnselect)="onGenomeBuildUnselect()">
                </jqxComboBox>
            </div>
        </div>
        <div class="inlineDiv" *ngIf="showSearchTextInput">
            <input [(ngModel)]="searchText" placeholder="Search...">
        </div>
        <div class="inlineDiv" *ngIf="showVisibilityCheckboxes">
            <label class="leading-label">Visible to</label>
            <input [(ngModel)]="visibilityOwnerFlag" id="visibilityOwnerCheckbox" type="checkbox">
            <label for="visibilityOwnerCheckbox" class="following-label leading-label">Owner</label>
            <input [(ngModel)]="visibilityInstitutionFlag" id="visibilityInstitutionCheckbox" type="checkbox">
            <label for="visibilityInstitutionCheckbox" class="following-label leading-label">Institution</label>
            <input [(ngModel)]="visibilityAllLabMembersFlag" id="visibilityAllLabMembersCheckbox" type="checkbox">
            <label for="visibilityAllLabMembersCheckbox" class="following-label leading-label">All Lab Members</label>
            <input [(ngModel)]="visibilityPublicFlag" id="visibilityPublicCheckbox" type="checkbox">
            <label for="visibilityPublicCheckbox" class="following-label">Public</label>
        </div>
        <div class="inlineDiv" *ngIf="showExperimentNumberInput">
            <label for="experimentNumberInput" class="leading-label">Experiment #</label>
            <input class="filterTextInput" [(ngModel)]="experimentNumberString" id="experimentNumberInput">
        </div>
        <div class="inlineDiv" *ngIf="showInvoiceNumberInput">
            <label for="invoiceNumberInput" class="leading-label">Invoice #</label>
            <input class="filterTextInput" [(ngModel)]="invoiceNumberString" id="invoiceNumberInput">
        </div>
        <button *ngIf="showMoreSwitch && !showMore" class="showHideButton" (click)="toggleShowMore()"><img src="../../assets/arrow_down.gif" alt="" class="icon">More...</button>
        <button class="searchButton" (click)="search()"><img src="../../assets/magnifier.png" alt="" class="icon">Search</button>
    </div>
    <div *ngIf="showMoreSwitch && showMore" class="filter-row-bottom flex-container-row align-center children-spaced">
        <div *ngIf="showEmptyFoldersCheckbox" class="inlineDiv">
            <input [(ngModel)]="showEmptyFoldersFlag" id="showEmptyFoldersCheckbox" type="checkbox">
            <label for="showEmptyFoldersCheckbox" class="following-label">{{showEmptyFoldersCheckboxLabel}}</label>
        </div>
        <div class="inlineDiv" *ngIf="showExternalExperimentsCheckbox">
            <input [(ngModel)]="externalExperimentsFlag" id="externalExperimentsCheckbox" type="checkbox">
            <label for="externalExperimentsCheckbox" class="following-label">External Experiments</label>
        </div>
        <div class="inlineDiv" *ngIf="showPublicCheckbox">
            <input [(ngModel)]="publicFlag" id="publicCheckbox" type="checkbox">
            <label for="publicCheckbox" class="following-label">Public</label>
        </div>
        <div class="inlineDiv" *ngIf="showAnalysesRadioGroup">
            <input [(ngModel)]="analysesRadioString" id="myAnalysesRadio" value="myAnalyses" type="radio" name="analysesRadioFilter">
            <label for="myAnalysesRadio" class="following-label leading-label">My analyses</label>
            <input [(ngModel)]="analysesRadioString" id="myLabAnalysesRadio" value="myLab" type="radio" name="analysesRadioFilter">
            <label for="myLabAnalysesRadio" class="following-label leading-label">My lab</label>
            <input [(ngModel)]="analysesRadioString" id="otherLabsAnalysesRadio" value="otherLabs" type="radio" name="analysesRadioFilter">
            <label for="otherLabsAnalysesRadio" class="following-label leading-label">Other labs</label>
            <input [(ngModel)]="analysesRadioString" id="allAnalysesRadio" value="all" type="radio" name="analysesRadioFilter">
            <label for="allAnalysesRadio" class="following-label">All</label>
        </div>
        <div class="inlineDiv" *ngIf="showLabMultiSelectComboBox">
            <label class="leading-label">Group(s)</label>
            <jqxComboBox class="inlineComboBox" [width]="220" [multiSelect]="true"
                         [source]="labList" [displayMember]="this.prefService.labDisplayField" [valueMember]="'idLab'"
                         (onSelect)="onMultiLabSelect($event)" (onUnselect)="onMultiLabUnselect($event)">
            </jqxComboBox>
        </div>
        <jqxComboBox *ngIf="showExperimentsRadioGroup && showLabMembersComboBox && experimentsRadioString == 'myLab'"
                     class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Filter by lab member...'"
                     [source]="labMembersList" [displayMember]="this.prefService.userDisplayField" [valueMember]="'idAppUser'"
                     (onSelect)="onAppUserSelect($event)" (onUnselect)="onAppUserUnselect()">
        </jqxComboBox>
        <div class="inlineDiv children-spaced" *ngIf="showCoreFacilityComboBox">
            <jqxComboBox class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Core facility...'"
                         [source]="coreFacilityList" [displayMember]="'display'" [valueMember]="'idCoreFacility'"
                         (onSelect)="onCoreFacilitySelect($event)" (onUnselect)="onCoreFacilityUnselect()">
            </jqxComboBox>
            <jqxComboBox *ngIf="showRequestCategoryComboBox && !(idCoreFacilityString === '')"
                         class="inlineComboBox" [width]="170" [height]="20" [placeHolder]="'Experiment type...'"
                         [source]="requestCategoryList" [displayMember]="'display'" [valueMember]="'codeRequestCategory'"
                         (onSelect)="onRequestCategorySelect($event)" (onUnselect)="onRequestCategoryUnselect()">
            </jqxComboBox>
        </div>
        <div class="inlineDiv" *ngIf="showCCNumberInput">
            <label for="ccNumberInput" class="leading-label">CC Number</label>
            <input class="filterTextInput" [(ngModel)]="ccNumberString" id="ccNumberInput">
        </div>
        <button class="showHideButton" (click)="toggleShowMore()"><img src="../../assets/arrow_up.gif" alt="" class="icon">Less...</button>
    </div>
</div>