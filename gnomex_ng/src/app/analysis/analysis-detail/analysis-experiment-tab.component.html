<div class="full-height full-width flex-column-container">
    <div class="align-center flex-row-container justify-space-between flex-grow">
        <custom-combo-box style="width:30%;" placeholder="Lab Filter" [options]="this.labList"
                            [displayField]="this.prefService.labDisplayField"
                            [formControl]="this.currentLabFC">
        </custom-combo-box>
        <mat-radio-group [(ngModel)]="gridRaidoOpt" class="filter" (change)="onGridTypeChange()">
            <mat-radio-button [value]="HYBS" class="filterOption" > Microarray Hybridizations{{"(" + this.hybsList.length + ")"}}</mat-radio-button>
            <mat-radio-button [value]="SEQ_LANES" class="filterOption" > Illumina Sequencing{{"(" + this.lanesList.length + ")"}} </mat-radio-button>
            <mat-radio-button [value]="SAMPLE" class="filterOption"> Other{{"(" + this.sampleList.length + ")"}} </mat-radio-button>
        </mat-radio-group>

    </div>
    <div style="display:flex; margin-top:2em;">
        <mat-spinner *ngIf="showSpinner" strokeWidth="3" [diameter]="30"></mat-spinner>
        <div style="margin-left:auto; font-size:small;">
            <button color="primary" mat-button [disabled]="!this.analysisService.getEditMode()" (click)="removeItems()" >
                <img class="icon" [src]="this.constService.ICON_DELETE"> remove
            </button>
            <button color="primary" mat-button [disabled]="!this.analysisService.getEditMode()" (click)="clearAllItems()" >
                <img class="icon" [src]="this.constService.ICON_FOLDER_DELETE"> Clear all
            </button>

        </div>
    </div>

    <div style="flex:10;"class="flex-row-container">
        <as-split *ngIf="tabVisible" > <!-- split  mat-tabs have issues -->
            <as-split-area  size="20">
                <div class="br-exp-item" style="height:100%">
                    <div class="flex-column-container" style="height:100%;">
                        <tree-root #tree
                                   (activate)="treeOnSelect($event)"
                                   [nodes]="items" [options]="options">
                            <ng-template #treeNodeTemplate let-node let-index="index">
                                <div class="truncate tree-node-font">
                                    <img src="{{node.level === 3 ? this.constService.ICON_GREEN_BULLET : node.data.icon }}" class="tree-node-icon icon">
                                    <span [matTooltip]="node.data.label" >{{ node.data.label }}</span>
                                </div>

                            </ng-template>
                        </tree-root>
                    </div>
                </div> <!-- end tree container -->
            </as-split-area>

            <as-split-area size="80">
                <div  class="datatracks-panel">
                    <ag-grid-angular style="width: 100%; height: 100%;" class="ag-theme-fresh"
                                     [gridOptions]="gridOpt"
                                     [rowSelection]="'multiple'"
                                     [rowDeselection]="true"
                                     (rowDoubleClicked)="navigateToRequest($event)"
                                     (gridReady)="onGridReady($event)"
                                     (gridSizeChanged)="adjustColumnSize($event)"
                                     [enableSorting]="true"
                                     [enableColResize]="true"
                                     (treeDrop)="onDrop($event)"
                                     [treeAllowDrop]="allowDrop.bind(this)">

                    </ag-grid-angular>
                </div>
            </as-split-area>
        </as-split>
    </div>
</div>


