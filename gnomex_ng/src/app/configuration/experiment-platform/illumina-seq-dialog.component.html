
<div mat-dialog-title class="padded-outer">
    <div class="dialog-header-colors padded-inner">
        Edit Sequencing Option
    </div>
</div>
<div mat-dialog-content style="margin: 0; padding: 0;">

    <form [formGroup]="this.formGroup" style="padding:1em;" class="full-height full-width flex-container-col">
        <div class="flex-container-row">
            <mat-form-field class="flex-grow">
                <input matInput placeholder="Name" formControlName="name">
            </mat-form-field>
            <div style="align-items: center;margin-left:1em;" class="flex-container-row flex-grow">
                <mat-checkbox  formControlName="isActive" > Active </mat-checkbox>
            </div>
        </div>
        <mat-form-field *ngIf="runOptions.length > 0" class="medium-form-input">
            <mat-select placeholder="Run Mode" formControlName="isCustom" >
                <mat-option>--</mat-option>
                <mat-option *ngFor="let opt of runOptions " [value]="opt.value" >{{opt.display}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="this.formGroup?.get('isCustom')?.hasError('required')">
                This field is required
            </mat-error>
        </mat-form-field>
        <div style="align-items: center" class="flex-container-row">
            <mat-form-field class="medium-form-input">
                <input matInput placeholder="Internal Pricing" formControlName="unitPriceInternal">
                <mat-error *ngIf="this.formGroup?.controls['unitPriceInternal']?.hasError('pattern')">
                    Enter a valid currency
                </mat-error>
            </mat-form-field>
            <mat-form-field  class="medium-form-input">
                <input matInput placeholder="External Academic Pricing" formControlName="unitPriceExternalAcademic">
            </mat-form-field>
            <mat-form-field  class="medium-form-input">
                <input matInput placeholder="External Commercial Pricing" formControlName="unitPriceExternalCommercial">
            </mat-form-field>
        </div>
        <mat-form-field class="short-input">
            <input matInput placeholder="Sort Order" formControlName="sortOrder">
            <mat-error  *ngIf="this.formGroup?.controls['sortOrder']?.hasError('numberRange')">
                {{this.formGroup.get('sortOrder').errors.numberRange }}
            </mat-error>
        </mat-form-field>

        <mat-form-field class="medium-form-input">
            <mat-select placeholder="Cycles" formControlName="idNumberSequencingCycles" >
                <mat-option>--</mat-option>
                <mat-option *ngFor="let cycle of cycleList " [value]="cycle.value" >{{cycle.display}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="this.formGroup?.get('idNumberSequencingCycles')?.hasError('required')">
                This field is required
            </mat-error>
        </mat-form-field>
        <mat-form-field class="medium-form-input">
            <mat-select placeholder="Type" formControlName="idSeqRunType" >
                <mat-option>--</mat-option>
                <mat-option *ngFor="let seqType of seqTypeRunList " [value]="seqType.value" >{{seqType.display}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="this.formGroup?.get('idSeqRunType')?.hasError('required')">
                This field is required
            </mat-error>
        </mat-form-field>
        <mat-form-field class="propFormField">
            <textarea matInput placeholder="Protocol Description" formControlName="protocolDescription"
                      matTextareaAutosize matAutosizeMinRows="5" matAutosizeMaxRows="10">
            </textarea>
        </mat-form-field>


    </form>

</div>
<div class="padded-outer" mat-dialog-actions align="end">
    <div class="padded-inner">
        <button mat-button [disabled]="formGroup.invalid" (click)="applyChanges()">
            <img class="icon" [src]="constService.ICON_SAVE" > Apply
        </button>
        <button mat-button mat-dialog-close color="accent" > Cancel </button>
    </div>
</div>
