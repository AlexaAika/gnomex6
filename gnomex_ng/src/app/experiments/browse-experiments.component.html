<div class="background">
    <div class="flex-column-container">
        <div style="flex-grow: .01;" class="br-exp-item br-exp-one">
            <div style="margin-bottom: 0.3em;">
                <browse-filter [label]="'Experiments'" [iconSource]="'assets/flask.png'"
                               [mode]="'experimentBrowse'"></browse-filter>
            </div>
        </div>

       <div style="flex:1;"class="flex-row-container">
           <split>
               <split-area size="20">
                   <div class="br-exp-item"> <!-- start tree container -->
                    <div class="flex-column-container" style="height:100%;">
                        <div class="br-exp-item br-exp-help-drag-drop">
                            <div class="flex-row-container">
                                <div class="br-exp-item-row-one">
                                    {{experimentCount}} experiments
                                </div>
                                <div class="br-exp-item-row-two">
                                    <button mat-button aria-label="Drag-and-drop hint" (click)="dragDropHintClicked()"><img src="../../assets/information.png">Drag-and-drop hint</button>
                                </div>
                            </div>
                        </div>
                        <mat-spinner *ngIf="showSpinner" strokeWidth="3" [diameter]="30"></mat-spinner>
                        <div class="br-exp-item br-exp-three">
                            <tree-root #tree (moveNode)="onMoveNode($event)"
                                       (updateData)="treeUpdateData($event)"
                                       (activate)="treeOnSelect($event)"
                                       [nodes]="items" [options]="options">
                                <ng-template #treeNodeTemplate let-node let-index="index">
                                    <img src="{{node.data.icon}}" height="16" width="16">
                                    <span>{{ node.data.label }}</span>
                                </ng-template>
                            </tree-root>
                        </div>
                        <div class="br-exp-item br-exp-four">
                            <div class="flex-row-container">

                                <div class="br-exp-item-row-one" style="position: relative; top: 1em">
                                    <button mat-button [disabled]="disableNewProject" (click)="newProjectClicked()"><img src="../../assets/folder_add.png">New Project</button>
                                </div>
                                <div class="br-exp-item-row-two" style="position: relative; top: 1em">
                                    <button mat-button [disabled]="disableDeleteProject" (click)="deleteProjectClicked()"><img src="../../assets/folder_delete.png">Delete Project</button>
                                </div>
                            </div>
                        </div>
                        <div class="br-exp-item br-exp-five">
                            <div class="flex-row-container">
                                <div class="br-exp-item-row-one" style="position: relative; top: 1em">
                                    <jqxToggleButton #toggleButton [template]="'link'" (onClick)="expandCollapseClicked()">Expand
                                        Projects
                                    </jqxToggleButton>
                                </div>
                                <div class="br-exp-item-row-two" style="position: relative; top: 1em">
                                    <button mat-button [disabled]="disableDeleteExperiment" (click)="deleteExperimentClicked()"><img src="../../assets/delete.png">Delete Experiment</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- end tree container -->
               </split-area>
               <split-area size="80">
                   <div  style="padding: 2em" class="br-exp-item experiment-detail-panel ">
                       <browse-panel></browse-panel>
                   </div>
               </split-area>
           </split>
       </div>
    </div>
</div>

<div>
    <jqxWindow #responseMsgWindow
               [width]="250"
               [height]="100"
               [maxHeight]="200" [maxWidth]="300" [minHeight]="30" [minWidth]="100"
               [isModal]="true" [modalOpacity]="0.3"
               [autoOpen]="false"
               [cancelButton]="'.cancel'" [okButton]="'.ok'" [resizable]="false"
    >

        <div style="width: 100%; background-color: #4cae4c">
            <div>
                <img width="14" height="14" src="../../assets/jqwidgets/images/help.png" alt=""/>
                Delete Project
            </div>
        </div>
        <div class="background">
            <div class="t">
                <div class="tr">
                    <div class="td">
                        <div class="t">
                            <div class="tr" style="vertical-align: middle">
                                <div class="td" style="width: 100%">
                                    <div style="width: 100%">
                                        <div *ngIf="responseMsg" class="tr" style="text-align: center">
                                            {{responseMsg}}
                                            Delete project
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tr">
                    <div class="td">
                        <div style="font-size:small">
                            <div class="t">
                                <div class="tr" style="vertical-align: middle">
                                    <div class="td">
                                        <jqxButton #noButtonDeleteProject class="No"
                                                   style="display: inline-block"
                                                   [width]="80"
                                                   (onClick)="responseMsgNoButtonClicked()"

                                        >
                                            No
                                        </jqxButton>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </jqxWindow>
</div>
<jqxNotification #msgSelectOwner
                 [width]="450" [position]="'top-left'" [opacity]="0.9" [autoOpen]="false" [template]="'info'"
                 [autoClose]="false" [closeOnClick]="true" (onClick)="resetReassign($event)"
>
    <div>
        Please select the experiment owner.
    </div>
</jqxNotification>

<jqxNotification #msgSelectBilling
                 [width]="450" [position]="'top-left'" [opacity]="0.9" [autoOpen]="false" [template]="'info'"
                 [autoClose]="false" [closeOnClick]="true" (onClick)="resetReassign($event)"
>
    <div>
        Please select the experiment billing account.
    </div>
</jqxNotification>

<jqxNotification #msgEnterProjectName
                 [width]="450" [position]="'top-left'" [opacity]="0.9" [autoOpen]="false" [template]="'info'"
                 [autoClose]="false" [closeOnClick]="true" (onClick)="resetReassign($event)"
>
    <div>
        Please enter a project name.
    </div>
</jqxNotification>

<jqxNotification #msgEnterLab
                 [width]="450" [position]="'top-left'" [opacity]="0.9" [autoOpen]="false" [template]="'info'"
                 [autoClose]="false" [closeOnClick]="true" (onClick)="clickNoProject($event)"
>
    <div>
        Please select a lab.
    </div>
</jqxNotification>

<jqxNotification #msgLoading
                 [width]="450" [position]="'top-left'" [opacity]="0.9" [autoOpen]="false" [template]="'info'"
                 [autoClose]="true" [closeOnClick]="true"
>
    <div>
        Loading...
    </div>
</jqxNotification>

<jqxNotification #msgDragDropHint
                 [width]="'80%'" [position]="'top-left'" [opacity]="0.9" [autoOpen]="false" [template]="'info'"
                 [autoClose]="false" [closeOnClick]="true"
>
    <div>
        Drag-and-drop experiment to move to another project.
    </div>
</jqxNotification>
<jqxNotification #msgNoAuthUsersForLab
                 [width]="'80%'" [height]="50" [position]="'top-left'" [opacity]="0.9" [autoOpen]="false"
                 [template]="'warning'" [autoClose]="false" [closeOnClick]="true" (onClick)="clickNoOwners($event)"
>
    <div>
        Sorry, in order to reassign this experiment you must change its owner to a member of the new lab group. However,
        you do not have permission to access the member list for this lab. Please contact an administrator.
    </div>
</jqxNotification>

